
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jupyter Notebook console</title>
  <link href="./styles.css" rel="stylesheet" />
</head>

<body>

  <h1>Jupyter Notebook console</h1>  

  <form name="editor">
    <table>
      <tbody>
        <tr>

          <td id="buttons">
<div>

  <h2>Import modules</h2>

  <p>
    <input type="button" class="btn btn-module" value="numpy" onclick="document.editor.textbox.value+='import numpy as np\n'" />
    <input type="button" class="btn btn-module" value="pandas" onclick="document.editor.textbox.value+='import pandas as pd\n'" />
    <input type="button" class="btn btn-module" value="matplotlib" onclick="document.editor.textbox.value+='import matplotlib.pyplot as plt\n%matplotlib inline\n'" />
    <input type="button" class="btn btn-module" value="sqlite3" onclick="document.editor.textbox.value+='import sqlite3\n'" />
  </p>

  <hr />

<h2>Load data</h2>

  <p>
    <input type="button" class="btn btn-success" value="csv" onclick="document.editor.textbox.value+='\n' + document.editor.variable.value + ' = pd.read_csv(\'' + document.editor.csvFileName.value + '.csv\')\n' + document.editor.variable.value + '.head()'" />
    <input type="button" class="btn btn-success" value="csv parse dates" onclick="document.editor.textbox.value+='\n' + document.editor.variable.value + ' = pd.read_csv(\n    \'' + document.editor.csvFileName.value + '.csv\',\n    parse_dates=[\'Dates\'])\n' + document.editor.variable.value + '.head()'" />
    <input class="btn" name="variable" id="variable" placeholder="variable" size="10" type="textfield" />
    <input class="btn" name="csvFileName" placeholder="file name" size="10" type="textfield" />
  </p>

  <p>
    <input type="button" class="btn btn-success" value="load data" onclick="document.editor.textbox.value+='\n' + loadData.innerHTML" />
  </p>
  
  <hr />

<h2>Data at a glance</h2>

  <p>
    <input type="button" class="btn btn-data" value="describe()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="head()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="info()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="foot()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="shape" onclick="data(this.value);" />
  </p>

  <ul>
    <li>describe: statisical properties</li>
    <li>info: data properties - structure and data types</li>
    <li>shape: rows and columns</li>
  </ul>

  <hr />

<h2>Numerical analysis and visualisation</h2>

  <p>
    <input class="btn" name="column" id="column" placeholder="column" size="10" type="textfield" />
    <input class="btn" name="axis" id="plot-variable" placeholder="axis" size="10" type="textfield" />
  </p>

  <p>
    <input type="button" class="btn btn-primary" value="describe" onclick="describe(this.value);" />
    <input type="button" class="btn btn-primary" value="mean" onclick="meanMedian(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="median" onclick="meanMedian(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="box" onclick="analyseBox(this.value); analysis=this.value" />
  </p>

  <textarea id="load-data" class="hide">
conn = sqlite3.connect('data/sakila.db')

df = pd.read_sql('''
    SELECT
        rental.rental_id, rental.rental_date, rental.return_date,
        customer.last_name AS customer_lastname,
        store.store_id,
        city.city AS rental_store_city,
        film.title AS film_title, film.rental_duration AS film_rental_duration,
        film.rental_rate AS film_rental_rate, film.replacement_cost AS film_replacement_cost,
        film.rating AS film_rating
    FROM rental
    INNER JOIN customer ON rental.customer_id == customer.customer_id
    INNER JOIN inventory ON rental.inventory_id == inventory.inventory_id
    INNER JOIN store ON inventory.store_id == store.store_id
    INNER JOIN address ON store.address_id == address.address_id
    INNER JOIN city ON address.city_id == city.city_id
    INNER JOIN film ON inventory.film_id == film.film_id
    ;
''', conn, index_col='rental_id', parse_dates=['rental_date', 'return_date'])
  </textarea>

</div>
          </td>

          <td id="textbox">
            <textarea id="preview" name="textbox"></textarea>
          </td>

          <td id="empty"></td>

        </tr>
      </tbody>
    </table>
  </form>

  <script src="./script.js"></script>

</body>
</html>
