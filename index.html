
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Jupyter Notebook console</title>
  <link href="./styles.css" rel="stylesheet" />
</head>

<body>

  <h1>Jupyter Notebook console</h1>  

  <form name="editor">
    <table>
      <tbody>
        <tr>

          <td id="buttons">
<div>

  <h2>Import modules</h2>

  <p>
    <input type="button" class="btn btn-module" value="numpy" onclick="document.editor.textbox.value+='import numpy as np\n'" />
    <input type="button" class="btn btn-module" value="pandas" onclick="document.editor.textbox.value+='import pandas as pd\n'" />
    <input type="button" class="btn btn-module" value="matplotlib" onclick="document.editor.textbox.value+='import matplotlib.pyplot as plt\n%matplotlib inline\n'" />
    <input type="button" class="btn btn-module" value="sqlite3" onclick="document.editor.textbox.value+='import sqlite3\n'" />
  </p>

<hr />
<h2>Load data</h2>

  <p>
    <input type="button" class="btn btn-success" value="csv" onclick="document.editor.textbox.value+='\n' + document.editor.variable.value + ' = pd.read_csv(\'' + document.editor.csvFileName.value + '.csv\')\n' + document.editor.variable.value + '.head()'" />
    <input type="button" class="btn btn-success" value="csv parse dates" onclick="document.editor.textbox.value+='\n' + document.editor.variable.value + ' = pd.read_csv(\n    \'' + document.editor.csvFileName.value + '.csv\',\n    parse_dates=[\'Dates\'])\n' + document.editor.variable.value + '.head()'" />
    <input class="btn" name="variable" id="variable" placeholder="variable" size="10" type="textfield" />
    <input class="btn" name="csvFileName" placeholder="file name" size="10" type="textfield" />
  </p>

  <p>
    <input type="button" class="btn btn-success" value="load data" onclick="document.editor.textbox.value+='\n' + loadData.innerHTML" />
  </p>
  
<hr />
<h2>Data at a glance</h2>

  <p>
    <input type="button" class="btn btn-data" value="describe()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="head()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="info()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="foot()" onclick="data(this.value);" />
    <input type="button" class="btn btn-data" value="shape" onclick="data(this.value);" />
  </p>

  <ul>
    <li>describe: statisical properties</li>
    <li>info: data properties - structure and data types</li>
    <li>shape: rows and columns</li>
  </ul>

<hr />
<h2>Numerical analysis and visualisation</h2>

  <p>
    <input class="btn" name="column" id="column" placeholder="column" size="10" type="textfield" />
    <input class="btn" name="axis" id="plot-variable" placeholder="axis" size="10" type="textfield" />
  </p>

  <p>
    <input type="button" class="btn btn-primary" value="describe" onclick="describe(this.value);" />
    <input type="button" class="btn btn-primary" value="mean" onclick="meanMedian(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="median" onclick="meanMedian(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="box" onclick="analyseBox(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="density" onclick="densityHist(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="hist" onclick="densityHist(this.value); analysis=this.value" />
    <input type="button" class="btn btn-primary" value="kde" onclick="densityHist(this.value); analysis=this.value" />
  </p>

<p>
  <input type="button" class="btn btn-primary" value="colour" onclick="colour()" />

  <select name="colours">
    <option value="brown">brown</option>
    <option value="red">red</option>
    <option value="purple">purple</option>
    <option value="pink">pink</option>
    <option value="orange">orange</option>
    <option value="olive">olive</option>
    <option value="blue">blue</option>
    <option value="cyan">cyan</option>
    <option value="green">green</option>
    <option value="gray">gray</option>
  </select>
</p>

<p>
  <input type="button" class="btn btn-primary" value="x label" onclick="axisLabel(this.value)" />
  <input type="button" class="btn btn-primary" value="y label" onclick="axisLabel(this.value)" />
  <input class="btn" name="label" id="label" placeholder="label" size="10" type="textfield" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="bar" onclick="document.editor.textbox.value+=document.editor.axis.value === '' ? '\n' + document.editor.variable.value + '[\'' + document.editor.column.value + '\'].value_counts().plot(kind=\'' + this.value + '\', figsize=(14,6))\n' : '\n' + document.editor.axis.value + ' = ' + document.editor.variable.value + '[\'' + document.editor.column.value + '\'].value_counts().plot(kind=\'' + this.value + '\', figsize=(14,6))\n'; analysis=this.value" />
  <input type="button" class="btn btn-primary" value="pie" onclick="document.editor.textbox.value+=document.editor.axis.value === '' ? '\n' + document.editor.variable.value + '[\'' + document.editor.column.value + '\'].value_counts().plot(kind=\'' + this.value + '\', figsize=(6,6))\n' : '\n' + document.editor.axis.value + ' = ' + document.editor.variable.value + '[\'' + document.editor.column.value + '\'].value_counts().plot(kind=\'' + this.value + '\', figsize=(6,6))\n'; analysis=this.value" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="round" onclick="round()" />
</p>

<hr />
<h2>Categorical analysis and visualisation</h2>

<p>
  <input type="button" class="btn btn-primary" value="most" onclick="document.editor.textbox.value+='\n' + document.editor.axis.value + document.editor.variable.value + '[\'' + document.editor.column.value + '\'].value_counts().head(1)'" />
  <input type="button" class="btn btn-primary" value="unique" onclick="document.editor.textbox.value+='\n' + document.editor.axis.value + document.editor.variable.value + '[\'' + document.editor.column.value + '\'].' + this.value.replace(' ', '_') + '()'" />
  <input type="button" class="btn btn-primary" value="unique list" onclick="document.editor.textbox.value+='\n' + document.editor.axis.value + document.editor.variable.value + '.loc[:, \'' + document.editor.column.value + '\'].unique()'" />
  <input type="button" class="btn btn-primary" value="value counts" onclick="categoricalValueCounts(this.value)" />
  <input type="button" class="btn btn-primary" value="bar" onclick="categoricalBar(this.value); analysis=this.value" />
  <input type="button" class="btn btn-primary" value="pie" onclick="categoricalPie(this.value); analysis=this.value" />
</p>

<p>
  <input class="btn" name="mostValueCounts" id="mostValueCounts" placeholder="number" style="width:60px;" type="number" />
</p>

<hr />
<h2>Correlation between columns</h2>

<p>
  <input class="btn" name="correlation" id="correlation" placeholder="correlation" size="10" type="textfield" />
  <input class="btn" name="figure" id="figure" placeholder="figure" size="10" type="textfield" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="corr" onclick="document.editor.textbox.value+=document.editor.variable.value === '' ? alert('Please enter a variable name in the \'Load data\' section.') || '' : document.editor.correlation.value === '' ? '\n' + document.editor.variable.value + '.' + this.value + '()' : '\n' + document.editor.correlation.value + ' = ' + document.editor.variable.value + '.' + this.value + '()'" />
  <input type="button" class="btn btn-primary" value="figure" onclick="document.editor.textbox.value+=document.editor.figure.value === '' ? alert('Please enter a name in the figure field.') || '' : '\n' + document.editor.figure.value + ' = plt.' + this.value + '(figsize=(8,8))'" />
  <input type="button" class="btn btn-primary" value="matshow" onclick="matshow(this.value)" />
  <input type="button" class="btn btn-primary" value="x ticks" onclick="document.editor.textbox.value+=document.editor.correlation.value === '' ? alert('Please enter a name in the correlation field.') || '' : '\nplt.' + this.value.replace(' ', '') + '(range(len(' + document.editor.correlation.value + '.columns)), ' + document.editor.correlation.value + '.columns, rotation=\'vertical\')'" />
  <input type="button" class="btn btn-primary" value="y ticks" onclick="document.editor.textbox.value+=document.editor.correlation.value === '' ? alert('Please enter a name in the correlation field.') || '' : '\nplt.' + this.value.replace(' ', '') + '(range(len(' + document.editor.correlation.value + '.columns)), ' + document.editor.correlation.value + '.columns)'" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="scatter" onclick="scatters(this.value);" />
  <input class="btn" name="scatterX" id="scatterX" placeholder="scatter X" size="10" type="textfield" />
  <input class="btn" name="scatterY" id="scatterY" placeholder="scatter Y" size="10" type="textfield" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="box" onclick="box(); analysis=this.value" />
  <input type="button" class="btn btn-primary" value="boxplot cols" onclick="document.editor.textbox.value+=document.editor.boxplotCats.value === '' ? alert('Please enter some comma separated categories.') || '' : '\n' + this.value.replace(' ', '_') + ' = [' + document.editor.boxplotCats.value.split(',').map(el => `'${el.replace(' ', '')}'`).join().replaceAll(',', ', ') + ']'; document.editor.boxplotCats.value=''; analysis=this.value" />
  <input class="btn" name="boxplotCats" id="plots" placeholder="boxplot catergories" size="12" type="textfield" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="boxplot" onclick="boxPlot(); analysis=this.value" />
  <input class="btn" name="boxPlotAxis" id="boxPlotAxis" placeholder="boxplot axis" size="10" type="textfield" />
</p>

<p>
  <input type="button" class="btn btn-primary" value="grouped boxplot" onclick="boxPlotGrouped(); analysis=this.value" />
  <input class="btn" name="boxPlotCategory" id="boxPlotCategory" placeholder="category" size="10" type="textfield" />
  <input class="btn" name="boxPlotCategoryValue" id="boxPlotCategoryValue" placeholder="value" size="10" type="textfield" />
  <input class="btn" name="boxPlotColumnA" id="boxPlotCategoryColumnA" placeholder="column A" size="10" type="textfield" />
  <input class="btn" name="boxPlotColumnB" id="boxPlotCategoryColumnB" placeholder="column B" size="10" type="textfield" />
</p>

<hr />
<h2>Column wrangling</h2>

<p>
  <input class="btn" name="newColumn" id="newColumn" placeholder="new column" size="10" type="textfield" />
  <input class="btn" name="columnA" id="columnA" placeholder="primary column" size="10" type="textfield" />
  <input class="btn" name="columnB" id="columnB" placeholder="secondary column" size="12" type="textfield" />
</p>

<hr />
<h2>Add and calculate a new column</h2>

<p>
  <input type="button" class="btn btn-column" value="add" onclick="columnWrangle('+');" />
  <input type="button" class="btn btn-column" value="divide" onclick="columnWrangle('/');" />
  <input type="button" class="btn btn-column" value="multiply" onclick="columnWrangle('*');" />
</p>

<p>
  <input type="button" class="btn btn-column" value="density" onclick="columnPlot(this.value);" />
  <input type="button" class="btn btn-column" value="scatter" onclick="columnScatter(this.value);" />
  <input class="btn" name="scatterAxis" id="scatterAxis" placeholder="scatter" size="10" type="textfield" />
</p>

<hr />
<h2>Modify existing column</h2>

<p>
  <input type="button" class="btn btn-column" value="add" onclick="columnWrangleModify('+');" />
  <input type="button" class="btn btn-column" value="divide" onclick="columnWrangleModify('/');" />
  <input type="button" class="btn btn-column" value="multiply" onclick="columnWrangleModify('*');" />
  <input type="button" class="btn btn-column" value="subtract" onclick="columnWrangleModify('-');" />
</p>

  <textarea id="load-data" class="hide">
conn = sqlite3.connect('data/sakila.db')

df = pd.read_sql('''
    SELECT
        rental.rental_id, rental.rental_date, rental.return_date,
        customer.last_name AS customer_lastname,
        store.store_id,
        city.city AS rental_store_city,
        film.title AS film_title, film.rental_duration AS film_rental_duration,
        film.rental_rate AS film_rental_rate, film.replacement_cost AS film_replacement_cost,
        film.rating AS film_rating
    FROM rental
    INNER JOIN customer ON rental.customer_id == customer.customer_id
    INNER JOIN inventory ON rental.inventory_id == inventory.inventory_id
    INNER JOIN store ON inventory.store_id == store.store_id
    INNER JOIN address ON store.address_id == address.address_id
    INNER JOIN city ON address.city_id == city.city_id
    INNER JOIN film ON inventory.film_id == film.film_id
    ;
''', conn, index_col='rental_id', parse_dates=['rental_date', 'return_date'])
  </textarea>

</div>
          </td>

          <td id="textbox">
            <textarea id="preview" name="textbox"></textarea>
          </td>

          <td id="empty"></td>

        </tr>
      </tbody>
    </table>
  </form>

  <script src="./script.js"></script>

</body>
</html>
